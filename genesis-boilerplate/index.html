<!doctype html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"><link rel="canonical" href="https://bradonomics.com/genesis-boilerplate/"><title>How I Create Custom Genesis Child Themes</title><meta name="description" content="A step-by-step tutorial on how I create Genesis child themes."><meta property="og:url" content="https://bradonomics.com/genesis-boilerplate/"><meta property="og:title" content="How I Create Custom Genesis Child Themes"><meta property="og:description" content="A step-by-step tutorial on how I create Genesis child themes."><meta property="og:image" content="https://bradonomics.com/images/brad-west-theme-300x225.jpg"><meta name="google-site-verification" content="BQbL7BieqK_q7vMFzbBaByQl40P0CSIuPaYMSEPjEhs"><link rel="alternate" type="application/rss+xml" title="Bradonomics" href="http://feeds.feedburner.com/bradonomics"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Oxygen+Mono|Raleway:400,900"><link rel="stylesheet" href="https://bradonomics.com/css/main.css"></head><body itemscope itemtype="http://schema.org/WebPage"> <!--[if lte IE 9]><p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p><![endif]--><header class="site-header" itemscope itemtype="http://schema.org/WPHeader"><p class="site-title" itemprop="headline"> <a href="/">Brad West</a></p><nav itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement"> <a class="menu-item" href="/about/">About</a><a class="menu-item" href="/blog/">Blog</a><a class="menu-item" href="/now/">Now</a></nav></header><div class="container"><main class="content"><article class="post" itemscope itemtype="http://schema.org/BlogPosting"><header class="entry-header"><h1 class="entry-title" itemprop="headline">How I Create Custom Genesis Child Themes</h1></header><div class="entry-content" itemprop="articleBody"><p>Most of my custom WordPress development is built on the <a href="http://www.shareasale.com/r.cfm?B=346198&amp;U=573840&amp;M=28169&amp;urllink=">Genesis Framework</a>. It makes building a site much faster and over time I’ve come to like the way its underlying code is structured. That said, I’m not a fan of how Brian Gardner and company write CSS, so I decided to setup my own “starter kit.” I call it <a href="https://github.com/bradonomics/genesis-boilerplate/">Genesis Boilerplate</a>. It includes a custom functions file, Sass-based on <a href="http://getskeleton.com/">Skeleton CSS</a>, and <a href="http://gulpjs.com/">Gulp</a> to compile the Sass and JavaScript and to run <a href="https://www.browsersync.io/">BrowserSync</a> so I don’t have to refresh the page everytime I make a change. As for the functions, I included the most common things that make it into my child themes—the things I’d have to write every time anyway.</p><p>I intend this to be a living document and as my workflow changes, I’ll update the Genesis Boilerplate code as well as this document. If you have questions regarding this document, find errors, or can offer suggestions for a better workflow, please get in touch.</p><p>The below assumes you have all dependent software installed already (things like Apache, PHP, MySQL, Node.js, etc.).</p><h2 id="installing-wordpress">Installing WordPress</h2><p>I have WordPress installed in <code class="highlighter-rouge">/var/www/html/wordpress</code> and typically create a new directory for my next project in the <code class="highlighter-rouge">/wp-content/themes</code> directory. If you don’t already have WordPress installed you can install it in the root of <code class="highlighter-rouge">/html</code> so you don’t have to worry with directories when you run <a href="http://localhost/">http://localhost/</a> in your browser. If you need to have multiple installs, you can create a new directory as I have with <code class="highlighter-rouge">/wordpress</code>. If you install WordPresss in this subdirectory it will mean that you will access the front-end here: <a href="http://localhost/wordpress">http://localhost/wordpress</a>.</p><h2 id="setup-theme-directory">Setup Theme Directory</h2><p>I’ve created a bash script to download the Genesis Boilerplate theme files, the newest version of normalize CSS, and get everything setup the way I like. You can see the <a href="https://gist.github.com/bradonomics/8a0bcf1f8d40785254edae60bdd13868">script on GitHub</a> or <a href="https://gist.githubusercontent.com/bradonomics/8a0bcf1f8d40785254edae60bdd13868/raw/79a95a637497ab4dc3b6115b97b59405b690613e/install.sh">download it here</a>. To use this script create a child theme directory in <code class="highlighter-rouge">/wp-content/themes</code> and move the <code class="highlighter-rouge">install.sh</code> file there. Open a terminal in that directory and type the following to make the script executable.</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chmod</span> +x install.sh
</code></pre></div></div><p>Then you’ll be able to run the script with this:</p><div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./install.sh
</code></pre></div></div><p>Note that this installs Gulp so you’ll need to have Node.js installed or it will error. If you don’t already have Node.js installed, you can get files and instructions here: <a href="http://nodejs.org/">nodejs.org</a>.</p><p>After downloading the files, the script will install Gulp and prompt you for your WordPress directory. Once you enter the directory it will automatically add it to your Gulp file so BrowserSync will serve from the correct directory.</p><h2 id="setup-theme-directory-manually">Setup Theme Directory Manually</h2><p>If you don’t want to use the script to set up your child theme, here are the steps to do it manually.</p><ol><li>Clone the Genesis Boilerplate repo into the <code class="highlighter-rouge">/themes</code> directory.</li><li>Rename the directory to your child theme name.</li><li>Open a terminal in the child theme directory and change your git origin.</li><li><p>Run the following to setup node package manager. (If you don’t already have Node.js installed, you can get files and instructions here: <a href="http://nodejs.org/">nodejs.org</a>.)</p><div class="highlighter-rouge"><pre class="highlight"><code>npm init</code></pre></div></li><li><p>Run the following to install and save your gulp settings.</p><div class="highlighter-rouge"><pre class="highlight"><code>npm install --save-dev gulp gulp-sass gulp-autoprefixer gulp-cssnano gulp-concat gulp-uglify gulp-rename browser-sync</code></pre></div></li><li>Add project name (directory name) on line 2 of your gulpfile.</li></ol><h2 id="activate-new-theme">Activate New Theme</h2><p>If it’s not already there, you’ll need to add the Genesis Framework files in the <code class="highlighter-rouge">/themes</code> directory or you’ll get an error trying to activate your new child theme. Once you’ve got the Genesis theme in place and you’ve successfully set up the Genesis Boilerplate child theme files, you’ll need to run <code class="highlighter-rouge">gulp css</code> in the terminal to build the style.css file. Once you run gulp to generate the CSS file you can activate your child theme in the WordPress dashboard.</p><h2 id="my-development-process">My Development Process</h2><p>Sometimes I get HTML and CSS files from a designer and all I have to do is the WordPress build. In that case, the job is much more simple and I can jump past most of the steps below. If I’m doing the design myself, I start work in the browser. My Photoshop skills are, well …let’s not talk about that. Just know it’s much easier and much faster for me to design in-browser. But sometimes I’m working with a designer who can’t (or doesn’t have time to) do the PSD extraction and will send me only PSD files. In that case here is my workflow:</p><ol><li>Look through the PSD files to get a feel for the design.</li><li>Have a call with the designer to discuss functionality and other things a static design doc can’t explain. Also, discuss how the site is to be built; are template file sufficient (meaning the user won’t be updating content), or would it be better to make widget areas or use a plugin like <a href="https://www.advancedcustomfields.com/">Advanced Custom Fields</a> or <a href="https://wp-types.com/">Toolset</a> to allow for content editing?</li><li>Start with the simplest page—whatever has the least amount of custom styling. This is typically a post in WordPress nomenclature. (How to extract a PSD file is outside the scope of this article, but to give you some idea how this works: I use <a href="http://brackets.io/">Brackets</a> which has a PSD extractor tool built-in. You can find some decent tutorials on YouTube if you are new to this.)</li><li>Once the HTML/CSS has been created, upload the static files to a dev server so the designer can verify things are as they should be before beginning the WordPress build.</li></ol><h2 id="testing">Testing</h2><p>Once you’ve got the child theme built, you’ll need to test various things before sending the files to your designer, your client, or uploading them to the web.</p><p><strong>1. Add a Variety of Content to WordPress</strong></p><p>You can start by adding theme unit test data (you can find some <a href="https://codex.wordpress.org/Theme_Unit_Test">here</a>, and <a href="http://wptest.io/">here</a>, and <a href="https://github.com/chodhary/theme-unit-data-test">here</a>). That will only get you post and page data in most cases so if you’ve built custom post types or custom taxonomies you’ll need to manually add some data to check that it’s behaving as you expected. Even though the unit test data has posts, I like to add an extra one manually with a really long title—obnoxiously long. You never know when something like that will break a design.</p><p><strong>2. Check Responsive Behavior in the Inspector</strong></p><p>In your inspector tools there is a mobile emulator. Click the button in the top left in Chrome:</p><figure><img src="/images/inspector-tools.jpg" alt="Chrome Browser Inspector Tools" /></figure><p>You can use this to check responsive break points. This will get you about 90%-95% of the way, but some devices—I’m looking at you iOS—will not render things the same as a desktop browser. Which leads us to:</p><p><strong>3. Physical Device Check</strong></p><p>I’m a bit of a Luddite when it comes to mobile technology so I can’t test my builds on physical devices without bugging my friends. But if you have some devices on which you can check, you may be surprised that fonts or images don’t display the same as the desktop.</p><p><strong>4. Browser Check</strong></p><p>If like me, you did your build in a single browser, you’ll need to test that things look the same in other major browsers. The main ones I check are Chrome, FireFox, Safari, and Internet Explorer (or Edge as they are now calling it). It’s unlikely you’ll have major problems since Gulp is running the auto-prefixer in your CSS, but best to check.</p><h2 id="packaging-your-theme-files">Packaging Your Theme Files</h2><p>This part is pretty simple. Once you’ve built and tested your new child theme, just zip the appropriate files so the theme can be installed and send them to the client or designer or upload the theme to the web. At a minimum this will be a style.css file, but will likely include functions.php, a JavaScript file, and an images directory.</p><h2 id="a-note-on-version-control">A Note On Version Control</h2><p>The one thing not covered above is keeping your theme files in a version control system. I hinted to it in the manual theme setup, but you’ll probably want to use <a href="https://git-scm.com/">Git</a> as it’s the industry-leading system, and you’ll probably want to set it up from the beginning. Some people prefer to only set it up after the build is complete. That’s a decision you’ll have to make, but keep in mind that if you have Git set up you can easily revert back to a working state if you add something that crashes WordPress. How to use Git is outside the scope of this article but GitHub has many good tutorials to get you started.</p></div><footer class="entry-footer"><p class="entry-meta"> <span class="entry-time">This article was published on <time class="entry-time" itemprop="datePublished" datetime="2016-04-14T00:00:00-05:00">April 14, 2016</time></span> <span class="entry-category">In category: <a href="/category/general-geekery" rel="category tag">General Geekery</a></span></p><hr><p class="after-post-title">Questions / Comments</p><p class="after-post">I post ideas online to improve them. If you found this article interesting, found errors, or just want to discuss the ideas herein, please get in touch.</p></footer></article></main></div><footer class="site-footer" itemscope itemtype="http://schema.org/WPFooter"><p class="copyright">Copyright &copy; 2018</p><p class="contact">brad@bradonomics.com</p></footer></body></html>
